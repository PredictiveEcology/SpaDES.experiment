<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run experiment, algorithm 2, using <code><a href='http://spades-core.predictiveecology.org//reference/spades.html'>spades</a></code> — experiment2 • SpaDES.experiment</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run experiment, algorithm 2, using <code><a href='http://spades-core.predictiveecology.org//reference/spades.html'>spades</a></code> — experiment2" />
<meta property="og:description" content="Given one or more simList objects, run a series of spades calls
in a structured, organized way. Methods are available to deal with outputs,
such as as.data.table.simLists which can pull out simple to complex
values from every resulting simList or object saved by outputs
in every simList run. This uses future internally, allowing
for various backends and parallelism.0" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.experiment</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v-experiments.html">05 Simulation Experiments</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.experiment">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run experiment, algorithm 2, using <code><a href='http://spades-core.predictiveecology.org//reference/spades.html'>spades</a></code></h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/SpaDES.experiment/blob/master/R/experiment2.R'><code>R/experiment2.R</code></a></small>
    <div class="hidden name"><code>experiment2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given one or more <code>simList</code> objects, run a series of <code>spades</code> calls
in a structured, organized way. Methods are available to deal with outputs,
such as <code>as.data.table.simLists</code> which can pull out simple to complex
values from every resulting <code>simList</code> or object saved by <code>outputs</code>
in every <code>simList</code> run. This uses <code>future</code> internally, allowing
for various backends and parallelism.0</p>
    </div>

    <pre class="usage"><span class='fu'>experiment2</span>(<span class='no'>...</span>, <span class='kw'>replicates</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>clearSimEnv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>createUniquePaths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"outputPath"</span>), <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># S4 method for simList</span>
<span class='fu'>experiment2</span>(<span class='no'>...</span>, <span class='kw'>replicates</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>clearSimEnv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>createUniquePaths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"outputPath"</span>),
  <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>One or more <code>simList</code> objects</p></td>
    </tr>
    <tr>
      <th>replicates</th>
      <td><p>The number of replicates to run of the same <code>simList</code>.
See details and examples.</p></td>
    </tr>
    <tr>
      <th>clearSimEnv</th>
      <td><p>Logical. If TRUE, then the envir(sim) of each simList in the return list
is emptied. This is to reduce RAM load of large return object.
Default FALSE.</p></td>
    </tr>
    <tr>
      <th>createUniquePaths</th>
      <td><p>A character vector of the <code>paths</code> passed to <code>simInit</code>,
indicating which should create a new, unique path, as a sub-path to the original
<code>paths</code> of <code>simInit</code>. Default, and currently only option, is <code>"outputPath"</code></p></td>
    </tr>
    <tr>
      <th>useCache</th>
      <td><p>Logical. Passed to <code>spades</code>. This will be passed with the <code>simList</code>
name and replicate number, allowing each replicate and each <code>simList</code> to be
seen as a non-cached call to <code>spades</code>. This will, however, may prevent <code>spades</code>
calls from running a second time during second call to the same
<code>experiment2</code> function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly returns a <code>simLists</code> object. This class
extends the <code>environment</code> class and
contains <code>simList</code> objects.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function, because of its class formalism, allows for methods to be used. For example,
<code><a href='as.data.table.simLists.html'>as.data.table.simLists</a></code> allows user to pull out specific objects (in
the <code>simList</code> objects or on disk saved in <code>outputPath(sim)</code>).</p>
<p>The <code>outputPath</code> is changed so that every simulation puts outputs in a
sub-directory
of the original <code>outputPath</code> of each <code>simList</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>A <code>simLists</code> object can be made manually, if, say, many manual <code>spades</code> calls
have already been run. See example, via <code>new("simLists")</code></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='as.data.table.simLists.html'>as.data.table.simLists</a></code>,
  <code>simInit</code>, <code><a href='http://spades-core.predictiveecology.org//reference/spades.html'>spades</a></code>, <code><a href='experiment.html'>experiment</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {

  <span class='co'># Make 3 simLists -- set up scenarios</span>
  <span class='no'>endTime</span> <span class='kw'>&lt;-</span> <span class='fl'>5</span>
  <span class='no'>tmpdir</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"testing"</span>)
  <span class='no'>tmpCache</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"testingCache"</span>)
  <span class='co'># Example of changing parameter values</span>
  <span class='no'>mySim1</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
    <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='no'>endTime</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
    <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>),
      <span class='co'># Turn off interactive plotting</span>
      <span class='kw'>fireSpread</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>spreadprob</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.2</span>), <span class='kw'>nFires</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>10</span>)),
      <span class='kw'>caribouMovement</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>),
      <span class='kw'>randomLandscapes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>.useCache</span> <span class='kw'>=</span> <span class='st'>"init"</span>)
    ),
    <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
    <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
                 <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>,
                 <span class='kw'>cachePath</span> <span class='kw'>=</span> <span class='no'>tmpCache</span>),
    <span class='co'># Save final state of landscape and caribou</span>
    <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"landscape"</span>, <span class='no'>endTime</span>), <span class='st'>"caribou"</span>, <span class='st'>"caribou"</span>),
                         <span class='kw'>saveTimes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span>(<span class='no'>endTime</span>), <span class='fu'><a href='https://rdrr.io/pkg/raster/man/unique.html'>unique</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>ceiling</a></span>(<span class='no'>endTime</span>/<span class='fl'>2</span>),<span class='no'>endTime</span>))),
                         <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
  )

  <span class='no'>mySim2</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
    <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='no'>endTime</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
    <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>),
      <span class='co'># Turn off interactive plotting</span>
      <span class='kw'>fireSpread</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>spreadprob</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.2</span>), <span class='kw'>nFires</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>20</span>)),
      <span class='kw'>caribouMovement</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>),
      <span class='kw'>randomLandscapes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>.useCache</span> <span class='kw'>=</span> <span class='st'>"init"</span>)
    ),
    <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
    <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
                 <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>,
                 <span class='kw'>cachePath</span> <span class='kw'>=</span> <span class='no'>tmpCache</span>),
    <span class='co'># Save final state of landscape and caribou</span>
    <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"landscape"</span>, <span class='no'>endTime</span>), <span class='st'>"caribou"</span>, <span class='st'>"caribou"</span>),
                         <span class='kw'>saveTimes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span>(<span class='no'>endTime</span>), <span class='fu'><a href='https://rdrr.io/pkg/raster/man/unique.html'>unique</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>ceiling</a></span>(<span class='no'>endTime</span>/<span class='fl'>2</span>),<span class='no'>endTime</span>))),
                         <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
  )

  <span class='no'>mySim3</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
    <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='no'>endTime</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
    <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>),
      <span class='co'># Turn off interactive plotting</span>
      <span class='kw'>fireSpread</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>spreadprob</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.2</span>), <span class='kw'>nFires</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>30</span>)),
      <span class='kw'>caribouMovement</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>),
      <span class='kw'>randomLandscapes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>.useCache</span> <span class='kw'>=</span> <span class='st'>"init"</span>)
    ),
    <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
    <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
                 <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='no'>tmpdir</span>,
                 <span class='kw'>cachePath</span> <span class='kw'>=</span> <span class='no'>tmpCache</span>),
    <span class='co'># Save final state of landscape and caribou</span>
    <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"landscape"</span>, <span class='no'>endTime</span>), <span class='st'>"caribou"</span>, <span class='st'>"caribou"</span>),
                         <span class='kw'>saveTimes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span>(<span class='no'>endTime</span>), <span class='fu'><a href='https://rdrr.io/pkg/raster/man/unique.html'>unique</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>ceiling</a></span>(<span class='no'>endTime</span>/<span class='fl'>2</span>),<span class='no'>endTime</span>))),
                         <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
  )

  <span class='co'># Run experiment -- can use parallelism, if desired. Default is plan("sequential"), meaning</span>
  <span class='co'>#   "normal" sequential, single threaded runs</span>
  <span class='co'># library(future)</span>
  <span class='co'># plan("multiprocess")</span>
  <span class='no'>sims</span> <span class='kw'>&lt;-</span> <span class='fu'>experiment2</span>(<span class='kw'>sim1</span> <span class='kw'>=</span> <span class='no'>mySim1</span>, <span class='kw'>sim2</span> <span class='kw'>=</span> <span class='no'>mySim2</span>, <span class='kw'>sim3</span> <span class='kw'>=</span> <span class='no'>mySim3</span>,
                      <span class='kw'>replicates</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

  <span class='co'>### If spades already run -- can manually add to a simLists object</span>
  <span class='co'># simsManual &lt;- new("simLists")</span>
  <span class='co'># simsManual$sim1_rep1 &lt;- sims$sim1_rep1</span>

  <span class='co'># Convert to data.table so can do stuff with</span>
  <span class='co'># Just pull out a variable from the simLists -- simplest case</span>
  <span class='no'>df1</span> <span class='kw'>&lt;-</span> <span class='fu'>as.data.table</span>(<span class='no'>sims</span>, <span class='kw'>byRep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>vals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"nPixelsBurned"</span>))

  <span class='no'>measure.cols</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span>(<span class='st'>"nPixelsBurned"</span>, <span class='fu'><a href='https://rdrr.io/pkg/raster/man/names.html'>names</a></span>(<span class='no'>df1</span>), <span class='kw'>value</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
  <span class='no'>df1Short</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>data.table</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/data.table/man/melt.data.table.html'>melt</a></span>(<span class='no'>df1</span>, <span class='kw'>measure.vars</span> <span class='kw'>=</span> <span class='no'>measure.cols</span>, <span class='kw'>variable.name</span> <span class='kw'>=</span> <span class='st'>"year"</span>)
  <span class='no'>df1Short</span>[, <span class='no'>year</span> <span class='kw'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span>(<span class='st'>".*V([[:digit:]])"</span>, <span class='st'>"\\1"</span>, <span class='no'>df1Short</span>$<span class='no'>year</span>))]
  <span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>ggplot2</span>)
  <span class='no'>p</span><span class='kw'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>df1Short</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>year</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>value</span>, <span class='kw'>group</span><span class='kw'>=</span><span class='no'>simList</span>, <span class='kw'>color</span><span class='kw'>=</span><span class='no'>simList</span>)) +
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"point"</span>, <span class='kw'>fun.y</span> <span class='kw'>=</span> <span class='no'>mean</span>) +
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"line"</span>, <span class='kw'>fun.y</span> <span class='kw'>=</span> <span class='no'>mean</span>) +
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"errorbar"</span>, <span class='kw'>fun.data</span> <span class='kw'>=</span> <span class='no'>mean_se</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>0.2</span>)

  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>p</span>)

  <span class='co'># A quoted function -- do not prefix objects with 'sim' -- next two lines are identical</span>
  <span class='no'>df1</span> <span class='kw'>&lt;-</span> <span class='fu'>as.data.table</span>(<span class='no'>sims</span>, <span class='kw'>byRep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>vals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NCaribou</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>caribou</span>$<span class='no'>x1</span>))))
  <span class='no'>df1</span> <span class='kw'>&lt;-</span> <span class='fu'>as.data.table</span>(<span class='no'>sims</span>, <span class='kw'>byRep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>vals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NCaribou</span> <span class='kw'>=</span> <span class='st'>"length(caribou$x1)"</span>))

  <span class='no'>p</span><span class='kw'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>df1</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>simList</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>NCaribou</span>, <span class='kw'>group</span><span class='kw'>=</span><span class='no'>simList</span>, <span class='kw'>color</span><span class='kw'>=</span><span class='no'>simList</span>)) +
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"point"</span>, <span class='kw'>fun.y</span> <span class='kw'>=</span> <span class='no'>mean</span>) +
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"errorbar"</span>, <span class='kw'>fun.data</span> <span class='kw'>=</span> <span class='no'>mean_se</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>0.2</span>)
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>p</span>)

  <span class='co'># A much more complicated object to calculate -- an estimate of perimeter to area ratio of fires</span>
  <span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>raster</span>)
  <span class='no'>perimToAreaRatioFn</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span>({
    <span class='no'>landscape</span>$<span class='no'>Fires</span>[<span class='no'>landscape</span>$<span class='no'>Fires</span>[]<span class='kw'>==</span><span class='fl'>0</span>] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>;
    <span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/boundaries.html'>boundaries</a></span>(<span class='no'>landscape</span>$<span class='no'>Fires</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"inner"</span>);
    <span class='no'>a</span>[<span class='no'>landscape</span>$<span class='no'>Fires</span>[] <span class='kw'>&gt;</span> <span class='fl'>0</span> <span class='kw'>&amp;</span> <span class='no'>a</span>[] <span class='kw'>==</span> <span class='fl'>1</span>] <span class='kw'>&lt;-</span> <span class='no'>landscape</span>$<span class='no'>Fires</span>[<span class='no'>landscape</span>$<span class='no'>Fires</span>[] <span class='kw'>&gt;</span> <span class='fl'>0</span> <span class='kw'>&amp;</span> <span class='no'>a</span>[] <span class='kw'>==</span> <span class='fl'>1</span>];
    <span class='no'>peri</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>a</span>[]);
    <span class='no'>area</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>landscape</span>$<span class='no'>Fires</span>[]);
    <span class='no'>keep</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/match.html'>match</a></span>(<span class='fu'><a href='https://rdrr.io/pkg/raster/man/names.html'>names</a></span>(<span class='no'>area</span>),<span class='fu'><a href='https://rdrr.io/pkg/raster/man/names.html'>names</a></span>(<span class='no'>peri</span>));
    <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>peri</span>[<span class='no'>keep</span>]/<span class='no'>area</span>)
  })

  <span class='no'>df1</span> <span class='kw'>&lt;-</span> <span class='fu'>as.data.table</span>(<span class='no'>sims</span>, <span class='kw'>byRep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                       <span class='kw'>vals</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>perimToArea</span> <span class='kw'>=</span> <span class='no'>perimToAreaRatioFn</span>,
                                <span class='kw'>meanFireSize</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>landscape</span>$<span class='no'>Fires</span>[])[-<span class='fl'>1</span>]))),
                       <span class='kw'>objectsFromOutputs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"landscape"</span>)) <span class='co'># need to get landscape obj from disk</span>
  <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span>()) {
    <span class='co'># with an unevaluated string</span>
    <span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>df1</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>saveTime</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>perimToArea</span>, <span class='kw'>group</span><span class='kw'>=</span><span class='no'>simList</span>, <span class='kw'>color</span><span class='kw'>=</span><span class='no'>simList</span>)) +
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"point"</span>, <span class='kw'>fun.y</span> <span class='kw'>=</span> <span class='no'>mean</span>) +
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"line"</span>, <span class='kw'>fun.y</span> <span class='kw'>=</span> <span class='no'>mean</span>) +
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/stat_summary.html'>stat_summary</a></span>(<span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"errorbar"</span>, <span class='kw'>fun.data</span> <span class='kw'>=</span> <span class='no'>mean_se</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>0.2</span>)
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>p</span>) <span class='co'># may have NAs, giving warning, if perimeter calculation couldn't be completed</span>
  }


} <span class='co'># end /dontrun</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Eliot McIntire</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


